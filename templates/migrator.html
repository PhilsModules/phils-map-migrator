<form class="pmm-container">
    <div class="pmm-intro">
        <p>{{localize "PMM.Instructions"}}</p>
    </div>

    <div class="pmm-row">
        <div class="pmm-header-row">
            <label><i class="fas fa-crosshairs"></i> {{localize "PMM.CalibrationMode"}}</label>
            <button type="button" id="btn-open-adjuster" title="{{localize 'PMM.Adjuster.LaunchTooltip'}}"
                style="width: auto; height: 20px; font-size: 12px; line-height: 1; padding: 0 5px;">
                <i class="fas fa-tools"></i> {{localize "PMM.Adjuster.LaunchBtn"}}
            </button>
        </div>
        <select id="cal-mode" class="pmm-select">
            <option value="1" {{#if (eq calibrationMode 1)}}selected{{/if}}>{{localize "PMM.Mode1"}}</option>
            <option value="2" {{#if (eq calibrationMode 2)}}selected{{/if}}>{{localize "PMM.Mode2"}}</option>
            <option value="3" {{#if (eq calibrationMode 3)}}selected{{/if}}>{{localize "PMM.Mode3"}}</option>
            <option value="4" {{#if (eq calibrationMode 4)}}selected{{/if}}>{{localize "PMM.Mode4"}}</option>
            <option value="5" {{#if (eq calibrationMode 5)}}selected{{/if}}>{{localize "PMM.Mode5"}}</option>
        </select>
    </div>

    <div class="pmm-row">
        <div class="pmm-header-row">
            <label><i class="fas fa-map"></i> {{localize "PMM.SourceScene"}}</label>
            <div class="pmm-toggle-wrapper">
                <span>{{localize "PMM.ToggleView"}}</span>
                <i class="fas fa-arrow-right"></i>
                <a id="btn-toggle-view" title="{{localize 'PMM.ToggleView'}}" style="cursor: pointer;">
                    <i class="fas {{#if useFolderView}}fa-folder{{else}}fa-list{{/if}}"></i>
                </a>
            </div>
        </div>
        <div class="pmm-flex">
            <select name="sourceScene" id="source-scene" class="pmm-select">
                {{#if useFolderView}}
                {{#each noFolder}}
                <option value="{{this.id}}" {{#if (eq this.id ../selectedSource)}}selected{{/if}}>{{this.name}}</option>
                {{/each}}
                {{#each folders}}
                <optgroup label="{{this.name}}">
                    {{#each this.scenes}}
                    <option value="{{this.id}}" {{#if (eq this.id ../../selectedSource)}}selected{{/if}}>{{this.name}}
                    </option>
                    {{/each}}
                </optgroup>
                {{/each}}
                {{else}}
                {{#each flatScenes}}
                <option value="{{this.id}}" {{#if (eq this.id ../selectedSource)}}selected{{/if}}>{{this.name}}</option>
                {{/each}}
                {{/if}}
            </select>
            <button type="button" id="btn-cal-source" class="pmm-btn-cal">
                <i class="fas fa-map-marker-alt"></i> {{localize "PMM.SetPoints"}}
                <span id="status-source" class="pmm-status {{#if sourceReady}}ready{{else}}not-ready{{/if}}">
                    {{#if sourceReady}}✔{{else}}✖{{/if}}
                </span>
            </button>
        </div>
    </div>

    <div class="pmm-row">
        <div class="pmm-header-row">
            <label><i class="fas fa-map-signs"></i> {{localize "PMM.TargetScene"}}</label>
        </div>
        <div class="pmm-flex">
            <select name="targetScene" id="target-scene" class="pmm-select">
                {{#if useFolderView}}
                {{#each noFolder}}
                <option value="{{this.id}}" {{#if (eq this.id ../selectedTarget)}}selected{{/if}}>{{this.name}}</option>
                {{/each}}
                {{#each folders}}
                <optgroup label="{{this.name}}">
                    {{#each this.scenes}}
                    <option value="{{this.id}}" {{#if (eq this.id ../../selectedTarget)}}selected{{/if}}>{{this.name}}
                    </option>
                    {{/each}}
                </optgroup>
                {{/each}}
                {{else}}
                {{#each flatScenes}}
                <option value="{{this.id}}" {{#if (eq this.id ../selectedTarget)}}selected{{/if}}>{{this.name}}</option>
                {{/each}}
                {{/if}}
            </select>
            <button type="button" id="btn-cal-target" class="pmm-btn-cal">
                <i class="fas fa-map-marker-alt"></i> {{localize "PMM.SetPoints"}}
                <span id="status-target" class="pmm-status {{#if targetReady}}ready{{else}}not-ready{{/if}}">
                    {{#if targetReady}}✔{{else}}✖{{/if}}
                </span>
            </button>
        </div>
    </div>

    <div class="pmm-content-section">
        <div class="pmm-section-header">
            <span>{{localize "PMM.ContentToCopy"}}</span>
            <small>
                <a class="pmm-select-all" style="cursor: pointer;">{{localize "PMM.SelectAll"}}</a>
            </small>
        </div>
        <div class="pmm-grid">
            <div class="checkbox"><input type="checkbox" id="chk-walls" checked> {{localize "PMM.Walls"}}</div>
            <div class="checkbox"><input type="checkbox" id="chk-lights" checked> {{localize "PMM.Lights"}}</div>
            <div class="checkbox"><input type="checkbox" id="chk-tokens" checked> {{localize "PMM.Tokens"}}</div>
            <div class="checkbox"><input type="checkbox" id="chk-notes" checked> {{localize "PMM.Notes"}}</div>
            <div class="checkbox"><input type="checkbox" id="chk-sounds" checked> {{localize "PMM.Sounds"}}</div>
            <div class="checkbox"><input type="checkbox" id="chk-drawings" checked> {{localize "PMM.Drawings"}}</div>
        </div>
        <div class="pmm-backup-row">
            <div class="checkbox">
                <input type="checkbox" id="chk-backup">
                <span title="{{localize 'PMM.BackupDesc'}}">{{localize "PMM.Backup"}}</span>
            </div>
        </div>
    </div>

    <button type="button" id="btn-migrate" class="pmm-migrate-btn {{#if readyToMigrate}}ready{{else}}not-ready{{/if}}">
        <i class="fas fa-file-import"></i> {{localize "PMM.MigrateBtn"}}
    </button>
</form>